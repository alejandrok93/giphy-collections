{"ast":null,"code":"import _objectSpread from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/src/App.tsx\";\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n\\tfont-size: 24px;\\n\\tmargin: 50%;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n\\tdisplay: flex;\\n\\tjustify-content: flex-start;\\n\\tcursor: pointer;\\n\\n\\tp {\\n\\t\\tcolor: white;\\n\\t\\tmargin: 15px 5px 5px 10px;\\n\\t}\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n\\twidth: 100%;\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: wrap;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n\\twidth: 100%;\\n\\tmin-height: 25px;\\n\\tbackground-color: dimgrey;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n\\twidth: 80%;\\n\\tborder: 1px solid gray;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n\\twidth: 20%;\\n\\tborder: 1px solid gray;\\n\\tbackground-color: #282c34;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n\\twidth: 100%;\\n\\tmin-height: 500px;\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\t@media (max-width: 768px) {\\n\\t\\tpadding: \", \"px \", \"px;\\n\\t}\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n\\tbackground-color: \", \";\\n\\tmax-height: \", \"px;\\n\\n\\t.react-logo-animation {\\n\\t\\tanimation: App-logo-spin infinite 20s linear;\\n\\t\\theight: \", \"px;\\n\\t\\tpointer-events: none;\\n\\t}\\n\\n\\t@keyframes App-logo-spin {\\n\\t\\tfrom {\\n\\t\\t\\ttransform: rotate(0deg);\\n\\t\\t}\\n\\t\\tto {\\n\\t\\t\\ttransform: rotate(360deg);\\n\\t\\t}\\n\\t}\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tjustify-content: space-between;\\n\\tmin-height: 100vh;\\n\\tmax-width: \", \"px;\\n\\tmargin-right: auto;\\n\\tmargin-left: auto;\\n\\n\\t// non-prod CSS guardrails\\n\\t\", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { DragDropContext } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport { rhythm, gutter, DarkGray, maxAppWidth } from './lib';\nimport { sofiLogo, reactLogo } from './images';\nimport axios from 'axios';\n\nvar mockResponse = require('./__tests__/mockGiphyApiResponse.json'); //Import Components\n\n\nimport Result from './components/Result';\nimport Collection from './components/Collection';\nimport Search from './components/Search'; //Set up API url, ----- need to remove API key and put in .env file -----\n\nvar api_key = 'Q0JJDtmMpduHC2isiGcPvMb2vRR3tWZf';\nvar AppPageContainer = styled.section(_templateObject(), maxAppWidth, function () {\n  if (process.env.NODE_ENV !== 'production') {\n    /* Accessibility: All imgs must have an alt attribute,\n     * see https://webaim.org/techniques/alttext/\n     */\n    return \"\\n      img:not([alt]) {\\n        border: 5px dashed #c00 !important;\\n      }\\n    \";\n  } else {\n    return \"\";\n  }\n});\nvar AppHeader = styled.header(_templateObject2(), DarkGray, rhythm(4), rhythm(2));\nvar Page = styled.div(_templateObject3(), rhythm(1), gutter);\nvar CollectionsContainer = styled.section(_templateObject4());\nvar GiphyApp = styled.div(_templateObject5());\nvar SearchContainer = styled.div(_templateObject6());\nvar GiphyContainer = styled.div(_templateObject7());\nvar NewCollection = styled.div(_templateObject8());\nvar EmptyContainer = styled.div(_templateObject9());\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.addItem = function (item, collection_id) {\n      //Copy previous state collections to new array\n      var collections = _toConsumableArray(_this.state.collections); //Access target collection using collection id\n\n\n      var collection;\n      collection = collections.find(function (collection) {\n        return collection.id === collection_id;\n      }); //Add item to collection\n\n      if (collection !== undefined) {\n        collection.items.push(item);\n      } //Update state\n\n\n      _this.setState({\n        collections: collections\n      });\n    };\n\n    _this.handleSearch = function (input) {\n      //Declare GIPHY Search URL\n      var giphy_search_url = \"http://api.giphy.com/v1/gifs/search?api_key=\".concat(api_key, \"&q=\");\n\n      if (input.length > 0) {\n        //Format search query\n        input = input.replace(/ /g, '+');\n        giphy_search_url = giphy_search_url + input;\n        console.log(giphy_search_url);\n        axios.get(giphy_search_url).then(function (response) {\n          var data = response.data.data; //Turn off active state for all collections before setting state with search results\n\n          var collections = _toConsumableArray(_this.state.collections);\n\n          collections.forEach(function (collection) {\n            return collection.active = false;\n          });\n\n          _this.setState(_objectSpread({}, _this.state, {\n            items: data\n          }));\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      }\n    };\n\n    _this.addCollection = function () {\n      var result = window.prompt('New collection name:');\n\n      if (result !== null) {\n        var _collections = _toConsumableArray(_this.state.collections);\n\n        var new_collection = {\n          id: _this.state.collections.length,\n          name: result,\n          items: [],\n          active: false\n        };\n\n        _collections.push(new_collection);\n\n        _this.setState({\n          collections: _collections\n        });\n      }\n    };\n\n    _this.showItems = function (collection_id) {\n      var collections = _toConsumableArray(_this.state.collections);\n\n      var collection = collections.find(function (collection) {\n        return collection.id === collection_id;\n      });\n\n      if (collection) {\n        collections.forEach(function (collection) {\n          return collection.active = false;\n        });\n        var _items = collection.items;\n        collection.active = !collection.active;\n\n        _this.setState({\n          displayItemsInCollection: true,\n          items: _items,\n          collections: collections\n        });\n      }\n    };\n\n    _this.state = {\n      displayItemsInCollection: false,\n      items: [],\n      collections: [{\n        id: 0,\n        name: 'Giphy Collections',\n        items: [],\n        active: false\n      }, {\n        id: 1,\n        name: 'Fun',\n        items: [],\n        active: false\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var empty = this.state.items.length === 0 ? true : false;\n      return React.createElement(AppPageContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(AppHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: sofiLogo,\n        alt: \"SoFi logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      })), React.createElement(\"img\", {\n        src: reactLogo,\n        className: \"react-logo-animation\",\n        alt: \"React logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      })), React.createElement(Page, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(CollectionsContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, this.state.collections.map(function (collection) {\n        return React.createElement(Collection, {\n          showItems: _this2.showItems,\n          key: collection.id,\n          collection: collection,\n          active: collection.active,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 232\n          },\n          __self: this\n        });\n      }), React.createElement(NewCollection, {\n        onClick: this.addCollection,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, \"+ Add a collection\"))), React.createElement(GiphyApp, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(SearchContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }, React.createElement(Search, {\n        handleSearch: this.handleSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      })), React.createElement(GiphyContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, this.state.items.map(function (item) {\n        return React.createElement(Result, {\n          key: item.id,\n          item: item,\n          handleDrop: _this2.addItem,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249\n          },\n          __self: this\n        });\n      })))));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default DragDropContext(HTML5Backend)(App);","map":{"version":3,"sources":["/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/src/App.tsx"],"names":["React","styled","DragDropContext","HTML5Backend","rhythm","gutter","DarkGray","maxAppWidth","sofiLogo","reactLogo","axios","mockResponse","require","Result","Collection","Search","api_key","AppPageContainer","section","process","env","NODE_ENV","AppHeader","header","Page","div","CollectionsContainer","GiphyApp","SearchContainer","GiphyContainer","NewCollection","EmptyContainer","App","props","addItem","item","collection_id","collections","state","collection","find","id","undefined","items","push","setState","handleSearch","input","giphy_search_url","length","replace","console","log","get","then","response","data","forEach","active","catch","err","addCollection","result","window","prompt","new_collection","name","showItems","displayItemsInCollection","empty","map","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport styled from 'styled-components';\nimport { DragDropContext, DragSource, DropTarget } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport { rhythm, column, gutter, DarkGray, maxAppWidth } from './lib';\nimport { sofiLogo, reactLogo } from './images';\nimport { GiphyGifObject } from './types/giphyApi';\nimport { Collection as CollectionType } from './types/collection';\nimport axios from 'axios';\n\nconst mockResponse = require('./__tests__/mockGiphyApiResponse.json');\n\n//Import Components\nimport Result from './components/Result';\nimport Collection from './components/Collection';\nimport Search from './components/Search';\n\n//Set up API url, ----- need to remove API key and put in .env file -----\nconst api_key = 'Q0JJDtmMpduHC2isiGcPvMb2vRR3tWZf';\n\nconst AppPageContainer = styled.section`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\tmin-height: 100vh;\n\tmax-width: ${maxAppWidth}px;\n\tmargin-right: auto;\n\tmargin-left: auto;\n\n\t// non-prod CSS guardrails\n\t${() => {\n\t\tif (process.env.NODE_ENV !== 'production') {\n\t\t\t/* Accessibility: All imgs must have an alt attribute,\n\t\t\t * see https://webaim.org/techniques/alttext/\n\t\t\t */\n\t\t\treturn `\n      img:not([alt]) {\n        border: 5px dashed #c00 !important;\n      }\n    `;\n\t\t} else {\n\t\t\treturn ``;\n\t\t}\n\t}};\n`;\n\nconst AppHeader = styled.header`\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: space-between;\n\tbackground-color: ${DarkGray};\n\tmax-height: ${rhythm(4)}px;\n\n\t.react-logo-animation {\n\t\tanimation: App-logo-spin infinite 20s linear;\n\t\theight: ${rhythm(2)}px;\n\t\tpointer-events: none;\n\t}\n\n\t@keyframes App-logo-spin {\n\t\tfrom {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\tto {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n`;\n\nconst Page = styled.div`\n\twidth: 100%;\n\tmin-height: 500px;\n\tdisplay: flex;\n\tflex-direction: row;\n\t@media (max-width: 768px) {\n\t\tpadding: ${rhythm(1)}px ${gutter}px;\n\t}\n`;\n\nconst CollectionsContainer = styled.section`\n\twidth: 20%;\n\tborder: 1px solid gray;\n\tbackground-color: #282c34;\n`;\n\nconst GiphyApp = styled.div`\n\twidth: 80%;\n\tborder: 1px solid gray;\n`;\n\nconst SearchContainer = styled.div`\n\twidth: 100%;\n\tmin-height: 25px;\n\tbackground-color: dimgrey;\n`;\n\nconst GiphyContainer = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n`;\n\nconst NewCollection = styled.div`\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\tcursor: pointer;\n\n\tp {\n\t\tcolor: white;\n\t\tmargin: 15px 5px 5px 10px;\n\t}\n`;\n\nconst EmptyContainer = styled.div`\n\tfont-size: 24px;\n\tmargin: 50%;\n`;\n\ninterface AppState {\n\tdisplayItemsInCollection: boolean;\n\titems: Array<GiphyGifObject>;\n\tcollections: Array<CollectionType>;\n}\n\nclass App extends React.Component<{}, AppState> {\n\tconstructor(props: any) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdisplayItemsInCollection: false,\n\t\t\titems: [],\n\t\t\tcollections: [\n\t\t\t\t{ id: 0, name: 'Giphy Collections', items: [], active: false },\n\t\t\t\t{ id: 1, name: 'Fun', items: [], active: false }\n\t\t\t]\n\t\t};\n\t}\n\n\taddItem = (item: GiphyGifObject, collection_id: number) => {\n\t\t//Copy previous state collections to new array\n\t\tlet collections = [...this.state.collections];\n\n\t\t//Access target collection using collection id\n\t\tlet collection;\n\t\tcollection = collections.find(\n\t\t\tcollection => collection.id === collection_id\n\t\t);\n\n\t\t//Add item to collection\n\n\t\tif (collection !== undefined) {\n\t\t\tcollection.items.push(item);\n\t\t}\n\n\t\t//Update state\n\t\tthis.setState({ collections });\n\t};\n\thandleSearch = (input: string) => {\n\t\t//Declare GIPHY Search URL\n\t\tlet giphy_search_url = `http://api.giphy.com/v1/gifs/search?api_key=${api_key}&q=`;\n\n\t\tif (input.length > 0) {\n\t\t\t//Format search query\n\t\t\tinput = input.replace(/ /g, '+');\n\t\t\tgiphy_search_url = giphy_search_url + input;\n\t\t\tconsole.log(giphy_search_url);\n\n\t\t\taxios\n\t\t\t\t.get(giphy_search_url)\n\t\t\t\t.then((response: any) => {\n\t\t\t\t\tconst data = response.data.data;\n\n\t\t\t\t\t//Turn off active state for all collections before setting state with search results\n\t\t\t\t\tlet collections = [...this.state.collections];\n\t\t\t\t\tcollections.forEach(collection => (collection.active = false));\n\t\t\t\t\tthis.setState({ ...this.state, items: data });\n\t\t\t\t})\n\t\t\t\t.catch((err: any) => console.log(err));\n\t\t}\n\t};\n\n\taddCollection = () => {\n\t\tconst result = window.prompt('New collection name:');\n\n\t\tif (result !== null) {\n\t\t\tlet collections = [...this.state.collections];\n\t\t\tlet new_collection = {\n\t\t\t\tid: this.state.collections.length,\n\t\t\t\tname: result,\n\t\t\t\titems: [],\n\t\t\t\tactive: false\n\t\t\t};\n\n\t\t\tcollections.push(new_collection);\n\t\t\tthis.setState({ collections });\n\t\t}\n\t};\n\n\tshowItems = (collection_id: number) => {\n\t\tlet collections = [...this.state.collections];\n\t\tlet collection = collections.find(\n\t\t\tcollection => collection.id === collection_id\n\t\t);\n\t\tif (collection) {\n\t\t\tcollections.forEach(collection => (collection.active = false));\n\t\t\tlet items = collection.items;\n\t\t\tcollection.active = !collection.active;\n\n\t\t\tthis.setState({ displayItemsInCollection: true, items, collections });\n\t\t}\n\t};\n\trender() {\n\t\tconst empty = this.state.items.length === 0 ? true : false;\n\n\t\treturn (\n\t\t\t<AppPageContainer>\n\t\t\t\t<AppHeader>\n\t\t\t\t\t<a href=\"/\">\n\t\t\t\t\t\t<img src={sofiLogo} alt=\"SoFi logo\" />\n\t\t\t\t\t</a>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={reactLogo}\n\t\t\t\t\t\tclassName=\"react-logo-animation\"\n\t\t\t\t\t\talt=\"React logo\"\n\t\t\t\t\t/>\n\t\t\t\t</AppHeader>\n\t\t\t\t<Page>\n\t\t\t\t\t<CollectionsContainer>\n\t\t\t\t\t\t{this.state.collections.map(collection => (\n\t\t\t\t\t\t\t<Collection\n\t\t\t\t\t\t\t\tshowItems={this.showItems}\n\t\t\t\t\t\t\t\tkey={collection.id}\n\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t\tactive={collection.active}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<NewCollection onClick={this.addCollection}>\n\t\t\t\t\t\t\t<p>+ Add a collection</p>\n\t\t\t\t\t\t</NewCollection>\n\t\t\t\t\t</CollectionsContainer>\n\t\t\t\t\t<GiphyApp>\n\t\t\t\t\t\t<SearchContainer>\n\t\t\t\t\t\t\t<Search handleSearch={this.handleSearch} />\n\t\t\t\t\t\t</SearchContainer>\n\t\t\t\t\t\t<GiphyContainer>\n\t\t\t\t\t\t\t{this.state.items.map(item => (\n\t\t\t\t\t\t\t\t<Result key={item.id} item={item} handleDrop={this.addItem} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</GiphyContainer>\n\t\t\t\t\t</GiphyApp>\n\t\t\t\t</Page>\n\t\t\t</AppPageContainer>\n\t\t);\n\t}\n}\n\nexport default DragDropContext(HTML5Backend)(App);\n"]},"metadata":{},"sourceType":"module"}