{"ast":null,"code":"import _objectSpread from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/src/App.tsx\";\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n\\tdisplay: flex;\\n\\tjustify-content: flex-start;\\n\\tcursor: pointer;\\n\\n\\tp {\\n\\t\\tcolor: black;\\n\\t\\tmargin: 15px 5px 5px 10px;\\n\\t}\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n\\twidth: 100%;\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\tflex-wrap: wrap;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n\\twidth: 100%;\\n\\tmin-height: 25px;\\n\\n\\tinput {\\n\\t\\tmargin: 5px auto;\\n\\t\\twidth: \", \"px;\\n\\t\\theight: 30px;\\n\\t\\tpadding: 10px;\\n\\t\\tfont-size: \", \"px;\\n\\t\\tcolor: gray;\\n\\t}\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n\\twidth: 80%;\\n\\tborder: 1px solid gray;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n\\twidth: 20%;\\n\\tborder: 1px solid gray;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n\\tpadding: \", \"px \", \"px \", \"px\\n\\t\\t\", \"px;\\n\\twidth: 100%;\\n\\tmin-height: 500px;\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\t@media (max-width: 768px) {\\n\\t\\tpadding: \", \"px \", \"px;\\n\\t}\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n\\tdisplay: flex;\\n\\tflex-direction: row;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n\\tbackground-color: \", \";\\n\\tmax-height: \", \"px;\\n\\n\\t.react-logo-animation {\\n\\t\\tanimation: App-logo-spin infinite 20s linear;\\n\\t\\theight: \", \"px;\\n\\t\\tpointer-events: none;\\n\\t}\\n\\n\\t@keyframes App-logo-spin {\\n\\t\\tfrom {\\n\\t\\t\\ttransform: rotate(0deg);\\n\\t\\t}\\n\\t\\tto {\\n\\t\\t\\ttransform: rotate(360deg);\\n\\t\\t}\\n\\t}\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tjustify-content: space-between;\\n\\tmin-height: 100vh;\\n\\tmax-width: \", \"px;\\n\\tmargin-right: auto;\\n\\tmargin-left: auto;\\n\\n\\t// non-prod CSS guardrails\\n\\t\", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport styled from 'styled-components';\nimport { DragDropContext } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport { rhythm, column, gutter, DarkGray, maxAppWidth } from './lib';\nimport { sofiLogo, reactLogo } from './images';\nimport axios from 'axios';\n\nvar mockResponse = require('./__tests__/mockGiphyApiResponse.json'); //Import Components\n\n\nimport Result from './components/Result';\nimport Collection from './components/Collection';\nimport Search from './components/Search'; //Set up API url, ----- need to remove API key and put in .env file -----\n\nvar api_key = 'Q0JJDtmMpduHC2isiGcPvMb2vRR3tWZf';\nvar AppPageContainer = styled.section(_templateObject(), maxAppWidth, function () {\n  if (process.env.NODE_ENV !== 'production') {\n    /* Accessibility: All imgs must have an alt attribute,\n     * see https://webaim.org/techniques/alttext/\n     */\n    return \"\\n      img:not([alt]) {\\n        border: 5px dashed #c00 !important;\\n      }\\n    \";\n  } else {\n    return \"\";\n  }\n});\nvar AppHeader = styled.header(_templateObject2(), DarkGray, rhythm(4), rhythm(2));\nvar Page = styled.div(_templateObject3(), rhythm(2), column + gutter, rhythm(3), column - gutter, rhythm(1), gutter);\nvar CollectionsContainer = styled.section(_templateObject4());\nvar GiphyApp = styled.div(_templateObject5());\nvar SearchContainer = styled.div(_templateObject6(), rhythm(8), rhythm(1));\nvar GiphyContainer = styled.div(_templateObject7());\nvar NewCollection = styled.div(_templateObject8());\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.addItem = function (item, collection_id) {\n      //Copy previous state collections to new array\n      var collections = _toConsumableArray(_this.state.collections); //Access target collection using collection id\n\n\n      var collection;\n      collection = collections.find(function (collection) {\n        return collection.id === collection_id;\n      }); //Add item to collection\n\n      if (collection !== undefined) {\n        collection.items.push(item);\n      } //Update state\n\n\n      _this.setState({\n        collections: collections\n      });\n    };\n\n    _this.handleSearch = function (input) {\n      //Declare GIPHY Search URL\n      var giphy_search_url = \"http://api.giphy.com/v1/gifs/search?api_key=\".concat(api_key, \"&q=\");\n\n      if (input.length > 0) {\n        //Format search query\n        input = input.replace(/ /g, '+');\n        giphy_search_url = giphy_search_url + input;\n        console.log(giphy_search_url);\n        axios.get(giphy_search_url).then(function (response) {\n          var data = response.data.data;\n\n          _this.setState(_objectSpread({}, _this.state, {\n            items: data\n          }));\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      }\n    };\n\n    _this.addCollection = function () {\n      var result = window.prompt('New collection name:');\n\n      if (result !== null) {\n        var _collections = _toConsumableArray(_this.state.collections);\n\n        var new_collection = {\n          id: _this.state.collections.length,\n          name: result,\n          items: []\n        };\n\n        _collections.push(new_collection);\n\n        _this.setState({\n          collections: _collections\n        });\n      }\n    };\n\n    _this.showItems = function (collection_id) {\n      var collection = _this.state.collections.find(function (collection) {\n        return collection.id === collection_id;\n      });\n\n      if (collection) {\n        var _items = collection.items;\n\n        _this.setState({\n          displayItemsInCollection: true,\n          items: _items\n        });\n      }\n    };\n\n    _this.state = {\n      items: [],\n      collections: [{\n        id: 0,\n        name: 'Giphy Collections',\n        items: []\n      }, {\n        id: 1,\n        name: 'Fun',\n        items: []\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.state);\n      return React.createElement(AppPageContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(AppHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: sofiLogo,\n        alt: \"SoFi logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        src: reactLogo,\n        className: \"react-logo-animation\",\n        alt: \"React logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      })), React.createElement(Page, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(CollectionsContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, this.state.collections.map(function (collection) {\n        return React.createElement(Collection, {\n          showItems: _this2.showItems,\n          key: collection.id,\n          collection: collection,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 223\n          },\n          __self: this\n        });\n      }), React.createElement(NewCollection, {\n        onClick: this.addCollection,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, \"+ Add a collection\"))), React.createElement(GiphyApp, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(SearchContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(Search, {\n        handleSearch: this.handleSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      })), React.createElement(GiphyContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, this.state.items.map(function (item) {\n        return React.createElement(Result, {\n          key: item.id,\n          item: item,\n          handleDrop: _this2.addItem,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 239\n          },\n          __self: this\n        });\n      })))));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default DragDropContext(HTML5Backend)(App);","map":{"version":3,"sources":["/Users/alejandrok/lambda-school/code-challenges/react/challenge-front-end/src/App.tsx"],"names":["React","styled","DragDropContext","HTML5Backend","rhythm","column","gutter","DarkGray","maxAppWidth","sofiLogo","reactLogo","axios","mockResponse","require","Result","Collection","Search","api_key","AppPageContainer","section","process","env","NODE_ENV","AppHeader","header","Page","div","CollectionsContainer","GiphyApp","SearchContainer","GiphyContainer","NewCollection","App","props","addItem","item","collection_id","collections","state","collection","find","id","undefined","items","push","setState","handleSearch","input","giphy_search_url","length","replace","console","log","get","then","response","data","catch","err","addCollection","result","window","prompt","new_collection","name","showItems","displayItemsInCollection","map","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport _ from 'lodash';\nimport styled from 'styled-components';\nimport { DragDropContext, DragSource, DropTarget } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport { rhythm, column, gutter, DarkGray, maxAppWidth } from './lib';\nimport { sofiLogo, reactLogo } from './images';\nimport { GiphyGifObject } from './types/giphyApi';\nimport { Collection as CollectionType } from './types/collection';\nimport axios from 'axios';\n\nconst mockResponse = require('./__tests__/mockGiphyApiResponse.json');\n\n//Import Components\nimport Result from './components/Result';\nimport Collection from './components/Collection';\nimport Search from './components/Search';\n\n//Set up API url, ----- need to remove API key and put in .env file -----\nconst api_key = 'Q0JJDtmMpduHC2isiGcPvMb2vRR3tWZf';\n\nconst AppPageContainer = styled.section`\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\tmin-height: 100vh;\n\tmax-width: ${maxAppWidth}px;\n\tmargin-right: auto;\n\tmargin-left: auto;\n\n\t// non-prod CSS guardrails\n\t${() => {\n\t\tif (process.env.NODE_ENV !== 'production') {\n\t\t\t/* Accessibility: All imgs must have an alt attribute,\n\t\t\t * see https://webaim.org/techniques/alttext/\n\t\t\t */\n\t\t\treturn `\n      img:not([alt]) {\n        border: 5px dashed #c00 !important;\n      }\n    `;\n\t\t} else {\n\t\t\treturn ``;\n\t\t}\n\t}};\n`;\n\nconst AppHeader = styled.header`\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-content: space-between;\n\tbackground-color: ${DarkGray};\n\tmax-height: ${rhythm(4)}px;\n\n\t.react-logo-animation {\n\t\tanimation: App-logo-spin infinite 20s linear;\n\t\theight: ${rhythm(2)}px;\n\t\tpointer-events: none;\n\t}\n\n\t@keyframes App-logo-spin {\n\t\tfrom {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\tto {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n`;\n\nconst Page = styled.div`\n\tpadding: ${rhythm(2)}px ${column + gutter}px ${rhythm(3)}px\n\t\t${column - gutter}px;\n\twidth: 100%;\n\tmin-height: 500px;\n\tdisplay: flex;\n\tflex-direction: row;\n\t@media (max-width: 768px) {\n\t\tpadding: ${rhythm(1)}px ${gutter}px;\n\t}\n`;\n\nconst CollectionsContainer = styled.section`\n\twidth: 20%;\n\tborder: 1px solid gray;\n`;\n\nconst GiphyApp = styled.div`\n\twidth: 80%;\n\tborder: 1px solid gray;\n`;\n\nconst SearchContainer = styled.div`\n\twidth: 100%;\n\tmin-height: 25px;\n\n\tinput {\n\t\tmargin: 5px auto;\n\t\twidth: ${rhythm(8)}px;\n\t\theight: 30px;\n\t\tpadding: 10px;\n\t\tfont-size: ${rhythm(1)}px;\n\t\tcolor: gray;\n\t}\n`;\n\nconst GiphyContainer = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n`;\n\nconst NewCollection = styled.div`\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\tcursor: pointer;\n\n\tp {\n\t\tcolor: black;\n\t\tmargin: 15px 5px 5px 10px;\n\t}\n`;\n\ninterface AppState {\n\titems: Array<GiphyGifObject>;\n\tcollections: Array<CollectionType>;\n}\n\nclass App extends React.Component<{}, AppState> {\n\tconstructor(props: any) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\titems: [],\n\t\t\tcollections: [\n\t\t\t\t{ id: 0, name: 'Giphy Collections', items: [] },\n\t\t\t\t{ id: 1, name: 'Fun', items: [] }\n\t\t\t]\n\t\t};\n\t}\n\n\taddItem = (item: GiphyGifObject, collection_id: number) => {\n\t\t//Copy previous state collections to new array\n\t\tlet collections = [...this.state.collections];\n\n\t\t//Access target collection using collection id\n\t\tlet collection;\n\t\tcollection = collections.find(\n\t\t\tcollection => collection.id === collection_id\n\t\t);\n\n\t\t//Add item to collection\n\n\t\tif (collection !== undefined) {\n\t\t\tcollection.items.push(item);\n\t\t}\n\n\t\t//Update state\n\t\tthis.setState({ collections });\n\t};\n\thandleSearch = (input: string) => {\n\t\t//Declare GIPHY Search URL\n\t\tlet giphy_search_url = `http://api.giphy.com/v1/gifs/search?api_key=${api_key}&q=`;\n\n\t\tif (input.length > 0) {\n\t\t\t//Format search query\n\t\t\tinput = input.replace(/ /g, '+');\n\t\t\tgiphy_search_url = giphy_search_url + input;\n\t\t\tconsole.log(giphy_search_url);\n\n\t\t\taxios\n\t\t\t\t.get(giphy_search_url)\n\t\t\t\t.then((response: any) => {\n\t\t\t\t\tconst data = response.data.data;\n\t\t\t\t\tthis.setState({ ...this.state, items: data });\n\t\t\t\t})\n\t\t\t\t.catch((err: any) => console.log(err));\n\t\t}\n\t};\n\n\taddCollection = () => {\n\t\tconst result = window.prompt('New collection name:');\n\n\t\tif (result !== null) {\n\t\t\tlet collections = [...this.state.collections];\n\t\t\tlet new_collection = {\n\t\t\t\tid: this.state.collections.length,\n\t\t\t\tname: result,\n\t\t\t\titems: []\n\t\t\t};\n\n\t\t\tcollections.push(new_collection);\n\t\t\tthis.setState({ collections });\n\t\t}\n\t};\n\n\tshowItems = (collection_id: number) => {\n\t\tlet collection = this.state.collections.find(\n\t\t\tcollection => collection.id === collection_id\n\t\t);\n\t\tif (collection) {\n\t\t\tlet items = collection.items;\n\t\t\tthis.setState({ displayItemsInCollection: true, items });\n\t\t}\n\t};\n\trender() {\n\t\tconsole.log(this.state);\n\n\t\treturn (\n\t\t\t<AppPageContainer>\n\t\t\t\t<AppHeader>\n\t\t\t\t\t<img src={sofiLogo} alt=\"SoFi logo\" />\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={reactLogo}\n\t\t\t\t\t\tclassName=\"react-logo-animation\"\n\t\t\t\t\t\talt=\"React logo\"\n\t\t\t\t\t/>\n\t\t\t\t</AppHeader>\n\t\t\t\t<Page>\n\t\t\t\t\t<CollectionsContainer>\n\t\t\t\t\t\t{this.state.collections.map(collection => (\n\t\t\t\t\t\t\t<Collection\n\t\t\t\t\t\t\t\tshowItems={this.showItems}\n\t\t\t\t\t\t\t\tkey={collection.id}\n\t\t\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<NewCollection onClick={this.addCollection}>\n\t\t\t\t\t\t\t<p>+ Add a collection</p>\n\t\t\t\t\t\t</NewCollection>\n\t\t\t\t\t</CollectionsContainer>\n\t\t\t\t\t<GiphyApp>\n\t\t\t\t\t\t<SearchContainer>\n\t\t\t\t\t\t\t<Search handleSearch={this.handleSearch} />\n\t\t\t\t\t\t</SearchContainer>\n\t\t\t\t\t\t<GiphyContainer>\n\t\t\t\t\t\t\t{this.state.items.map(item => (\n\t\t\t\t\t\t\t\t<Result key={item.id} item={item} handleDrop={this.addItem} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</GiphyContainer>\n\t\t\t\t\t</GiphyApp>\n\t\t\t\t</Page>\n\t\t\t</AppPageContainer>\n\t\t);\n\t}\n}\n\nexport default DragDropContext(HTML5Backend)(App);\n"]},"metadata":{},"sourceType":"module"}